{% extends "account/base.html" %}

{% load account socialaccount %}

{% block content %}
  {% include "socialaccount/snippets/login_extra.html" %}

  <!--begin::Form-->
  <form class="form w-100 fv-plugins-bootstrap5 fv-plugins-framework" novalidate="novalidate"
        method="POST" action="{% url 'account_login' %}">
    {% csrf_token %}

    {% if redirect_field_value %}
      <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
    {% endif %}

    <!--begin::Heading-->
    <div class="text-center mb-10">
      <!--begin::Title-->
      <h1 class="text-dark mb-3">{% trans 'Sign In to' %} {{ site_name }}</h1>
      <!--end::Title-->
      {% if ACCOUNT_ALLOW_REGISTRATION %}
        <!--begin::Link-->
        <div class="text-gray-400 fw-bold fs-4">{% trans 'New Here' %}?
          <a href="{% url 'account_signup' %}" class="link-primary fw-bolder">{% trans 'Create an Account' %}</a>
        </div>
        <!--end::Link-->
      {% endif %}
    </div>
    <!--begin::Heading-->

    <!--begin::Input group-->
    <div
      class="fv-row mb-10 fv-plugins-icon-container{% if form.login.errors or form.errors %} has-validation{% endif %}">
      <!--begin::Label-->
      <label class="form-label fs-6 fw-bolder text-dark">{% trans 'Username' %}</label>
      <!--end::Label-->

      <!--begin::Input-->
      <input
        class="form-control form-control-lg form-control-solid{% if form.login.errors or form.non_field_errors %} is-invalid{% endif %}"
        type="text" name="login" autocomplete="off">
      <!--end::Input-->
      {% if form.non_field_errors %}
        {% for error in form.non_field_errors %}
          <div class="fv-plugins-message-container invalid-feedback">
            <div>{{ error }}</div>
          </div>
        {% endfor %}
      {% endif %}
      {% if form.login.errors %}
        {% for error in form.login.errors %}
          <div class="fv-plugins-message-container invalid-feedback">
            <div data-field="login" data-validator="notEmpty">{{ error }}</div>
          </div>
        {% endfor %}
      {% endif %}
    </div>
    <!--end::Input group-->

    <!--begin::Input group-->
    <div class="fv-row mb-10 fv-plugins-icon-container{% if form.password.errors %} has-validation{% endif %}">
      <!--begin::Wrapper-->
      <div class="d-flex flex-stack mb-2">
        <!--begin::Label-->
        <label class="form-label fw-bolder text-dark fs-6 mb-0">Password</label>
        <!--end::Label-->

        <!--begin::Link-->
        <a class="link-primary fs-6 fw-bolder" href="{% url 'account_reset_password' %}">
          {% trans 'Forgot Password' %} ?
        </a>
        <!--end::Link-->
      </div>
      <!--end::Wrapper-->

      <!--begin::Input-->
      <input
        class="form-control form-control-lg form-control-solid{% if form.password.errors or form.non_field_errors %} is-invalid{% endif %}"
        type="password" name="password" autocomplete="off">
      <!--end::Input-->
      {% if form.password.errors %}
        {% for error in form.password.errors %}
          <div class="fv-plugins-message-container invalid-feedback">
            <div data-field="password" data-validator="notEmpty">{{ error }}</div>
          </div>
        {% endfor %}
      {% endif %}
    </div>
    <!--end::Input group-->

    <!--begin::Input group-->
    <div class="fv-row mb-7 fv-plugins-icon-container">
      <label
        class="form-check form-check-custom form-check-solid form-check-inline">
        <input class="form-check-input" type="checkbox" name="remember" {% if form.remember.value %}checked{% endif %}>
        <span class="form-check-label fw-bold text-gray-700 fs-6">
          {% trans 'Remember Me' %}
        </span>
      </label>
    </div>
    <!--end::Input group-->

    <!--begin::Actions-->
    <div class="text-center">
      <!--begin::Submit button-->
      <button type="submit" class="btn btn-lg btn-primary w-100 mb-5">
        <span class="indicator-label">{% trans 'Login' %}</span>
        <span class="indicator-progress">{% trans 'Please wait' %}...
          <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
        </span>
      </button>
      <!--end::Submit button-->
    </div>
    <!--end::Actions-->

    {% get_providers as socialaccount_providers %}

    {% if socialaccount_providers %}
      <!--begin::Separator-->
      <div class="text-center text-muted text-uppercase fw-bolder mb-5">or</div>
      <!--end::Separator-->

      <!--begin::Google link-->
      <a href="#" class="btn btn-flex flex-center btn-light btn-lg w-100 mb-5">
        <img alt="Logo" src="/jet-html-free/assets/media/svg/brand-logos/google-icon.svg" class="h-20px me-3">
        Continue with Google
      </a>
      <!--end::Google link-->

    {% endif %}

  </form>
  <!--end::Form-->
{% endblock content %}
